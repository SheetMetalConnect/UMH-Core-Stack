Ë˜# ==============================================================================
# UMH Core Environment Variables - Core Deployment
# ==============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
#
# Get these values from Management Console -> Your Instance -> Docker Deployment
# The UI provides a docker run command - extract these values from it
#
# For historian addon variables, see: deployment/examples/historian/.env.historian.example

# ==============================================================================
# REQUIRED: Management Console Authentication
# ==============================================================================
# Your authentication token (64-character hex string from Management Console)
AUTH_TOKEN=

# Image version (use latest by default)
UMH_VERSION=latest

# Release channel (usually "stable")
RELEASE_CHANNEL=stable

# API endpoint for Management Console communication
API_URL=https://management.umh.app/api

# ==============================================================================
# OPTIONAL: Organization Location Hierarchy
# ==============================================================================
# Used to construct UNS topic paths: umh.v1.<LOCATION_0>.<LOCATION_1>...
LOCATION_0=enterprise
LOCATION_1=
LOCATION_2=

# ==============================================================================
# Node-RED Configuration
# ==============================================================================
TZ=Europe/Amsterdam

# ==============================================================================
# Port Configuration
# ==============================================================================
# NGINX (webhooks)
PORT_NGINX=8081

# MQTT Broker (HiveMQ CE)
PORT_MQTT=1883
PORT_MQTT_WS=8083

# Services
PORT_NODERED=1880
PORT_PORTAINER=9000
PORT_PORTAINER_EDGE=9443

# ==============================================================================
# Security Notes
# ==============================================================================
# 1. Keep this file secure (chmod 600 .env)
# 2. Never commit .env to git
# 3. Rotate AUTH_TOKEN regularly (quarterly recommended)
# 4. Get all values from Management Console UI's docker run command

# ==============================================================================
# Historian Addon (TimescaleDB + Grafana)
# ==============================================================================
# Default password is "umhcore" - CHANGE IN PRODUCTION
# These are used by the historian flow and Grafana provisioning
POSTGRES_USER=postgres
POSTGRES_PASSWORD=umhcore
POSTGRES_DB=umh_v2
HISTORIAN_WRITER_USER=kafkatopostgresqlv2
HISTORIAN_WRITER_PASSWORD=umhcore
HISTORIAN_READER_USER=grafanareader
HISTORIAN_READER_PASSWORD=umhcore
GF_ADMIN_USER=admin
GF_ADMIN_PASSWORD=umhcore
TS_TUNE_MEMORY=4GB
TS_TUNE_NUM_CPUS=2

# ==============================================================================
# MCP (Model Context Protocol) Addon
# ==============================================================================
# AI/LLM integration with Node-RED and Grafana
# See: examples/mcp/README.md for client setup instructions

# MCP Server Ports
MCP_NODERED_PORT=3001
MCP_GRAFANA_PORT=3002

# MCP Server Names (for client identification) 
MCP_NODERED_NAME=nodered
MCP_GRAFANA_NAME=grafana

# Node-RED MCP Authentication (leave empty if Node-RED has no auth)
NODERED_MCP_USERNAME=
NODERED_MCP_PASSWORD=

# Grafana MCP Authentication (service account token preferred over basic auth)
GRAFANA_SERVICE_ACCOUNT_TOKEN=
